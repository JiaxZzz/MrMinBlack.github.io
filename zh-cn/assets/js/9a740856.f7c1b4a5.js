"use strict";(self.webpackChunkhaochen_blog=self.webpackChunkhaochen_blog||[]).push([[9842],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return h}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),d=c(n),h=r,f=d["".concat(s,".").concat(h)]||d[h]||u[h]||o;return n?a.createElement(f,l(l({ref:t},p),{},{components:n})):a.createElement(f,l({ref:t},p))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,l=new Array(o);l[0]=d;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:r,l[1]=i;for(var c=2;c<o;c++)l[c]=n[c];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},2810:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return i},contentTitle:function(){return s},metadata:function(){return c},assets:function(){return p},toc:function(){return u},default:function(){return h}});var a=n(3117),r=n(102),o=(n(7294),n(3905)),l=["components"],i={slug:"understand-this-in-one-article",title:"\u7406\u89e3 JavaScript \u4e2d\u7684 This, Bind, Call \u548c Apply",author:"Haochen Qi",author_title:"Full Stack Developer",author_url:"https://github.com/HaochenQ",author_image_url:"https://avatars1.githubusercontent.com/u/44130343?s=400&u=a5a4729addf5c5b972d1d6220546273ff6e00eb4&v=4",tags:["JavaScript","Interview Qustions"]},s=void 0,c={permalink:"/zh-cn/blog/understand-this-in-one-article",source:"@site/i18n/zh-cn/docusaurus-plugin-content-blog/2021-06-15-Understand-This.md",title:"\u7406\u89e3 JavaScript \u4e2d\u7684 This, Bind, Call \u548c Apply",description:"question",date:"2021-06-15T00:00:00.000Z",formattedDate:"2021\u5e746\u670815\u65e5",tags:[{label:"JavaScript",permalink:"/zh-cn/blog/tags/java-script"},{label:"Interview Qustions",permalink:"/zh-cn/blog/tags/interview-qustions"}],readingTime:2.31,truncated:!0,authors:[{name:"Haochen Qi",title:"Full Stack Developer",url:"https://github.com/HaochenQ",imageURL:"https://avatars1.githubusercontent.com/u/44130343?s=400&u=a5a4729addf5c5b972d1d6220546273ff6e00eb4&v=4"}],nextItem:{title:"How to Upload Files to AWS S3 in Node.js?",permalink:"/zh-cn/blog/upload-files-to-s3-iwth-node"}},p={authorsImageUrls:[void 0]},u=[{value:"<strong>This</strong> in JavaScript",id:"this-in-javascript",children:[],level:2},{value:"<strong>Call</strong>, <strong>Apply</strong> and <strong>Bind</strong>",id:"call-apply-and-bind",children:[],level:2},{value:"Arrow Functions",id:"arrow-functions",children:[],level:2}],d={toc:u};function h(e){var t=e.components,i=(0,r.Z)(e,l);return(0,o.kt)("wrapper",(0,a.Z)({},d,i,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"question",src:n(9207).Z})),(0,o.kt)("p",null,"Many of you may have been asked about ",(0,o.kt)("strong",{parentName:"p"},"This")," keyword in an interview. It is a really important concept in JavaScript yet slightly confusing to new developers. Today let us disscuss ",(0,o.kt)("strong",{parentName:"p"},"this"),", ",(0,o.kt)("strong",{parentName:"p"},"apply"),", ",(0,o.kt)("strong",{parentName:"p"},"call")," and ",(0,o.kt)("strong",{parentName:"p"},"bind")," in JavaScript."),(0,o.kt)("h2",{id:"this-in-javascript"},(0,o.kt)("strong",{parentName:"h2"},"This")," in JavaScript"),(0,o.kt)("p",null,"Not like other programming languages where this always refers to the current instance of the class, ",(0,o.kt)("strong",{parentName:"p"},"this")," in JavaScript depends on how a function is called. The usage of ",(0,o.kt)("strong",{parentName:"p"},"apply"),", ",(0,o.kt)("strong",{parentName:"p"},"call")," and ",(0,o.kt)("strong",{parentName:"p"},"bind")," methods can determine the value of ",(0,o.kt)("strong",{parentName:"p"},"this"),". Let's use an example to help us understand ",(0,o.kt)("strong",{parentName:"p"},"this"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"var test = {\n  func: function () {\n    console.log(this.bar);\n  },\n  prop: 1,\n};\n\nvar func = test.func;\nvar prop = 2;\n\ntest.func(); // 1\nfunc(); // 2\n")),(0,o.kt)("p",null,"In the example above, we can see that two ways of calling ",(0,o.kt)("em",{parentName:"p"},"func()")," generated different results. The reason is that ",(0,o.kt)("em",{parentName:"p"},"test.func()")," ran in the context of ",(0,o.kt)("em",{parentName:"p"},"test")," where ",(0,o.kt)("em",{parentName:"p"},"this")," refers, whereas the secoond ",(0,o.kt)("em",{parentName:"p"},"func")," ran in the global context."),(0,o.kt)("h2",{id:"call-apply-and-bind"},(0,o.kt)("strong",{parentName:"h2"},"Call"),", ",(0,o.kt)("strong",{parentName:"h2"},"Apply")," and ",(0,o.kt)("strong",{parentName:"h2"},"Bind")),(0,o.kt)("p",null,"We use call(), apply() and bind() methods to set the this keyword independent of how the function is called. This is especially useful for the callbacks."),(0,o.kt)("p",null,"The call() and apply() methods set the this inside the function and immediately executes that function. The only difference between call() and apply() is that the apply() method accepts an array of arguments instead of comma separated values."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"function.call(thisArg, arg1, agr2, ...)")),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"function.apply(thisArg, ","[argumentsArr]",")")),(0,o.kt)("p",null,"The code below will help us understand how call() and apply() work:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"Function.prototype.call = (context, ...args) => {\n  context =\n    context === undefined || context === null ? window : Object(context);\n  context.fn = this;\n  const result = context.fn(...args);\n  delete context.fn;\n  return result;\n};\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"Function.prototype.apply = (context, args) => {\n  context =\n    context === undefined || context === null ? window : Object(context);\n  context.fn = this;\n  const result = args ? context.fn(...args) : context.fn();\n  delete context.fn;\n  return result;\n};\n")),(0,o.kt)("p",null,"Not like call() and apply(), the bind() creates a new function and sets the this keyword to the specified object."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"function.bind(thisArg, optionalArguments)")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},'Function.prototype.myBind = (context, ...args) => {\n  if (typeof this !== "function") {\n    throw new TypeError("error");\n  }\n  context =\n    context === undefined || context === null ? window : Object(context);\n  self = this;\n  return (...bindArgs) => {\n    return self.apply(context, [...args, ...bindArgs)])\n};\n')),(0,o.kt)("h2",{id:"arrow-functions"},"Arrow Functions"),(0,o.kt)("p",null,"Arrow functions do not have their own ",(0,o.kt)("strong",{parentName:"p"},"this")," binding. Instead, they go up to the next level of execution."),(0,o.kt)("p",null,"It can be useful to use the arrow function in cases where you really want this to refer to the outer context. For example, if you had an event listener inside of a class, you would probably want this to refer to some value in the class."),(0,o.kt)("hr",null),(0,o.kt)("p",null,"Reference: ",(0,o.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this"},"AWS S3 Doc"),",\n",(0,o.kt)("a",{parentName:"p",href:"https://blog.bitsrc.io/understanding-call-bind-and-apply-methods-in-javascript-33dbf3217be"},"Medium(JavaScript Fundmentals)")))}h.isMDXComponent=!0},9207:function(e,t,n){t.Z=n.p+"assets/images/JS-Bind-85f14f376c19b9699342a8e5259521bf.png"}}]);